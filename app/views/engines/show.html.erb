<div class="container text-center">
    <h1><%= @engine.name %></h1>
    </h3><%= @engine.category.name %></h3>

  <div class="engine_detail_image">
    <%= cl_image_tag(@engine.category.photo.path, { size: '550x350', crop: :fit}) %>
  </div>

   <p> <%= @engine.description %> </p>
    <strong> <%= @engine.price %> â‚¬/per day </strong>

  <div class="booking_buttons">
    <%= simple_form_for [@engine, @booking] do |f| %>
      <%= f.button :submit, "Book Now", class: "engine_detail_booking_buttons btn btn-success"%>
    <% end %>
    <%= link_to "Back", engines_path, class: "engine_detail_booking_buttons btn btn-success" %>
  </div>


 <div id="map" style="width: 100%; height: 600px;"></div>
  <% content_for(:after_js) do %>
     <script type="text/javascript">
      $(document).on('ready', function() {
        var handler = Gmaps.build('Google', { markers: { clusterer: undefined }});
        handler.buildMap({ internal: { id: 'map' } }, function(){
          markers = handler.addMarkers([
            {
              "lat": <%= @engine.shop.latitude %>,
              "lng": <%= @engine.shop.longitude %>,
            }
          ]);
          handler.bounds.extendWith(markers);
          handler.fitMapToBounds();
        });
      })
    </script>
  <% end %>


